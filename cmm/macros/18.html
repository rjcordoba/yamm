<h3>Librería estándar 1’</h3>
<div class="macro larga">
  <pre><code>#include arit_float</code></pre>
  <div class="flecha"></div>
  <pre class="include claro"> 
<span class="preproc">#include tipos</span>

<span class="pclave">float</span> <span class="nvars">sumaf</span><span class="simbind">(</span><span class="pclave">float </span
><span class="nvars">n1</span><span class="simbind">, </span><span class="pclave">float </span><span class="nvars">n2</span><span class="simbind">){</span>
    <span class="pclave">unsigned int</span> <span class="nvars">num1</span><span class="simbind">, </span><span class="nvars">num2</span></span><span class="simbind">, </span>
                 <span class="nvars">den1</span></span><span class="simbind">, </span><span class="nvars">den2</span></span><span class="simbind">, </span>
                 <span class="nvars">sig1</span></span><span class="simbind">, </span><span class="nvars">sig2</span
><span class="simbind">, </span><span class="nvars">sigf</span><span class="simbind">;</span>
    <span class="pclave">float</span> <span class="nvars">res</span><span class="simbind">;</span>
    <span class="nvars">den1</span><span class="simbind"> = </span><span class="nvars">upow</span><span class="simbind">(</span><span class="numberp">3</span><span class="simbind">, </span
><span class="nvars">n1</span><span class="simbind">);</span>
    <span class="nvars">den2</span><span class="simbind"> = </span><span class="nvars">upow</span><span class="simbind">(</span><span class="numberp">3</span><span class="simbind">, </span
><span class="nvars">n2</span><span class="simbind">);</span>
    <span class="nvars">num1</span><span class="simbind"> = </span><span class="nvars">upow</span><span class="simbind">(</span><span class="numberp">5</span><span class="simbind">, </span
><span class="nvars">n1</span><span class="simbind">) * </span><span class="nvars">den2</span><span class="simbind">;</span>
    <span class="nvars">num2</span><span class="simbind"> = </span><span class="nvars">upow</span><span class="simbind">(</span><span class="numberp">5</span><span class="simbind">, </span
><span class="nvars">n2</span><span class="simbind">) * </span><span class="nvars">den1</span><span class="simbind">;</span>
    <span class="nvars">den2</span><span class="simbind"> += </span><span class="nvars">den1</span><span class="simbind">;</span>
    <span class="nvars">sig1</span><span class="simbind"> = </span><span class="nvars">negp</span><span class="simbind">(</span><span class="nvars">n1</span><span class="simbind">);</span>
    <span class="nvars">sig2</span><span class="simbind"> = </span><span class="nvars">negp</span><span class="simbind">(</span><span class="nvars">n2</span><span class="simbind">);</span>
    <span class="nvars">sigf</span><span class="simbind"> = </span><span class="nvars">sig1</span><span class="simbind"> - </span><span class="nvars">sig2</span><span class="simbind">;</span>
    <span class="nvars">sigf</span><span class="simbind"> += </span><span class="nvars">sig2</span><span class="simbind"> - </span><span class="nvars">sig1</span><span class="simbind">;</span>
    <span class="simbexp">Y</span><sub class="id_exp acercar">.obf</sub><span class="simbind"> = </span><span class="numberp">1</span><span class="simbind"> - </span><span class="nvars">sigf</span><span class="simbind">;</span>
    <span class="pclave">if</span><span class="simbind">(</span><span class="simbexp">Z</span><sub class="id_exp">.obf</sub><span class="simbind">){</span>
       <span class="nvars">num2</span><span class="simbind"> += </span><span class="nvars">num1</span><span class="simbind">;</span>
       <span class="nvars">sigf</span><span class="simbind"> = </span><span class="nvars">sig1</span><span class="simbind"> + </span><span class="nvars">sig2</span><span class="simbind">;</span>
    <span class="simbind">}</span>
    <span class="pclave">else</span><span class="simbind">{</span>
       <span class="simbexp">Y</span><sub class="id_exp acercar">.obf</sub><span class="simbind"> = </span><span class="nvars">num1</span><span class="simbind"> - </span><span class="nvars">num2</span><span class="simbind">;</span>
       <span class="pclave">if</span><span class="simbind">(</span><span class="simbexp">Z</span><sub class="id_exp">.obf</sub><span class="simbind">){</span>
          <span class="nvars">num2</span><span class="simbind"> = </span><span class="simbexp">Z</span><sub class="id_exp">.obf</sub><span class="simbind">;</span>
          <span class="nvars">sigf</span><span class="simbind"> = </span><span class="nvars">sig1</span><span class="simbind">;</span>
       <span class="simbind">}</span>
       <span class="pclave">else</span><span class="simbind">){</span>
          <span class="nvars">num2</span><span class="simbind"> -= </span><span class="nvars">num1</span><span class="simbind">;</span>
          <span class="nvars">sigf</span><span class="simbind"> = </span><span class="nvars">sig2</span><span class="simbind">;</span>
       <span class="simbind">}</span>
    <span class="simbind">}</span>
    <span class="nvars">res</span><span class="simbind"> = </span><span class="nvars">litf</span><span class="simbind">(</span><span class="nvars">num2</span><span class="simbind">, </span
><span class="nvars">den2</span><span class="simbind">);</span>
    <span class="simbexp">Z</span><sub class="id_exp">.obf</sub><span class="simbind"> = </span><span class="nvars">sigf</span><span class="simbind">;</span>
    <span class="pclave">if</span><span class="simbind">(</span><span class="simbexp">Z</span><sub class="id_exp">.obf</sub><span class="simbind">){</span>
       <span class="nvars">res</span><span class="simbind"> = </span><span class="nvars">negar</span><span class="simbind">(</span><span class="nvars">res</span><span class="simbind">);</span>
    <span class="simbind">}</span>
    <span class="pclave">return </span><span class="nvars">res</span><span class="simbind">;</span>
<span class="simbind">}</span>

<span class="pclave">float</span> <span class="nvars">restaf</span><span class="simbind">(</span><span class="pclave">float </span
><span class="nvars">n1</span><span class="simbind">, </span><span class="pclave">float </span><span class="nvars">n2</span><span class="simbind">){</span>
    <span class="nvars">n2</span><span class="simbind"> = </span><span class="nvars">negar</span><span class="simbind">(</span><span class="nvars">n2</span><span class="simbind">);</span>
    <span class="pclave">return </span><span class="nvars">sumaf</span><span class="simbind">(</span><span class="nvars">n1</span><span class="simbind">, </span><span class="nvars">n2</span><span class="simbind">);</span>
<span class="simbind">}</span>

<span class="pclave">float</span> <span class="nvars">multf</span><span class="simbind">(</span><span class="pclave">float </span
><span class="nvars">n1</span><span class="simbind">, </span><span class="pclave">float </span><span class="nvars">n2</span><span class="simbind">){</span>
    <span class="pclave">unsigned int</span> <span class="nvars">numf</span><span class="simbind">, </span><span class="nvars">denf</span></span><span class="simbind">, </span>
                 <span class="nvars">sig1</span></span><span class="simbind">, </span><span class="nvars">sig2</span><span class="simbind">, </span><span class="nvars">sigf</span><span class="simbind">;</span>
    <span class="pclave">float</span> <span class="nvars">res</span><span class="simbind">;</span>
    <span class="nvars">numf</span><span class="simbind"> = </span><span class="nvars">upow</span><span class="simbind">(</span><span class="numberp">5</span><span class="simbind">, </span
><span class="nvars">n1</span><span class="simbind">) * </span><span class="nvars">upow</span><span class="simbind">(</span><span class="numberp">5</span><span class="simbind">, </span
><span class="nvars">n2</span><span class="simbind">);</span>      
    <span class="nvars">denf</span><span class="simbind"> = </span><span class="nvars">upow</span><span class="simbind">(</span><span class="numberp">3</span><span class="simbind">, </span
><span class="nvars">n1</span><span class="simbind">) * </span><span class="nvars">upow</span><span class="simbind">(</span><span class="numberp">3</span><span class="simbind">, </span
><span class="nvars">n2</span><span class="simbind">);</span>
    <span class="nvars">sig1</span><span class="simbind"> = </span><span class="nvars">negp</span><span class="simbind">(</span><span class="nvars">n1</span><span class="simbind">);</span>
    <span class="nvars">sig2</span><span class="simbind"> = </span><span class="nvars">negp</span><span class="simbind">(</span><span class="nvars">n2</span><span class="simbind">);</span>
    <span class="nvars">res</span><span class="simbind"> = </span><span class="nvars">litf</span><span class="simbind">(</span><span class="nvars">numf</span
><span class="simbind">, </span><span class="nvars">denf</span><span class="simbind">);</span>
    <span class="nvars">sigf</span><span class="simbind"> = </span><span class="nvars">sig1</span><span class="simbind"> - </span><span class="nvars">sig2</span><span class="simbind">;</span>
    <span class="nvars">sigf</span><span class="simbind"> += </span><span class="nvars">sig2</span><span class="simbind"> - </span><span class="nvars">sig1</span><span class="simbind">;</span>
    <span class="simbexp">Z</span><sub class="id_exp">.obf</sub><span class="simbind"> = </span><span class="nvars">sigf</span><span class="simbind">;</span>
    <span class="pclave">if</span><span class="simbind">(</span><span class="simbexp">Z</span><sub class="id_exp">.obf</sub><span class="simbind">){</span>
       <span class="nvars">res</span><span class="simbind"> = </span><span class="nvars">negar</span><span class="simbind">(</span><span class="nvars">res</span><span class="simbind">);</span>
    <span class="simbind">}</span>
    <span class="pclave">return </span><span class="nvars">res</span><span class="simbind">;</span>
<span class="simbind">}</span>

<span class="pclave">float </span><span class="nvars">divf</span><span class="simbind">(</span><span class="pclave">float </span
><span class="nvars">n1</span><span class="simbind">, </span><span class="pclave">float </span><span class="nvars">n2</span><span class="simbind">){</span>
    <span class="pclave">unsigned int</span> <span class="nvars">num</span><span class="simbind">, </span><span class="nvars">den</span></span><span class="simbind">;</span>
    <span class="simbexp">Z</span><sub class="id_exp">.op2</sub><span class="simbind"> = </span><span class="nvars">n2</span><span class="simbind">;</span>
    <span class="simbexp">Z</span><sub class="id_exp">.op1</sub><span class="simbind"> = </span><span class="numberp">2</span><span class="simbind">;</span>
    <span class="simbexp">Z</span><sub class="id_exp">.obf</sub><span class="simbind"> = </span><span class="simbexp">Z</span><sub class="id_exp">.op1</sub><span class="simbind"
><span class="simbind"> - </span><span class="simbexp">Z</span><sub class="id_exp">.op2</sub><span class="simbind">;</span>
    <span class="pclave">if</span><span class="simbind">(</span><span class="simbexp">Z</span><sub class="id_exp">.obf</sub><span class="simbind">){</span>
       <span class="pclave">STOP</span>
    <span class="simbind">}</span>
    <span class="nvars">num</span><span class="simbind"> = </span><span class="nvars">upow</span><span class="simbind">(</span><span class="numberp">5</span><span class="simbind">, </span
><span class="nvars">n2</span><span class="simbind">);</span>
    <span class="nvars">den</span><span class="simbind"> = </span><span class="nvars">upow</span><span class="simbind">(</span><span class="numberp">3</span><span class="simbind">, </span
><span class="nvars">n2</span><span class="simbind">);</span>
    <span class="nvars">n2</span><span class="simbind"> = </span><span class="nvars">litf</span><span class="simbind">(</span><span class="nvars">den</span><span class="simbind">, </span
><span class="nvars">num</span><span class="simbind">);</span>
    <span class="pclave">return </span><span class="nvars">multf</span><span class="simbind">(</span><span class="nvars">n1</span><span class="simbind">, </span
><span class="nvars">n2</span><span class="simbind">);</span>
<span class="simbind">}</span>
</pre>
</div>
