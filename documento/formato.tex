\font\tenrm="TeXGyreSchola-Regular:mapping=tex-text" at 12pt     \font\tenit="TeXGyreSchola-Regular/I:mapping=tex-text" at 12pt
\font\diezrm="TeXGyreSchola-Regular" at 11pt                     \font\tenbf="TeXGyreSchola-Regular/B:mapping=tex-text" at 12pt
\font\fiverm="TeXGyreSchola-Regular" at 7pt                      \font\tensl="TeXGyreSchola-Regular:slant=0.2, mapping=tex-text" at 12pt

\font\teni=cmmi10 at 14pt    \font\tensy=cmsy10 at 14pt    \font\tenex=cmex10 at 15pt
\font\seveni=cmmi10           \font\sevensy=cmsy10
\font\fivei=cmmi7            \font\fivesy=cmsy7

\font\tenipeq=cmmi10 at 12pt    \font\tensypeq=cmsy10    \font\tenex=cmex10 at 15pt
\font\sevenipeq=cmmi10           \font\sevenypeq=cmsy8

\textfont0=\tenrm              \textfont1=\teni             \textfont2=\tensy             \textfont3=\tenex
\scriptfont0=\sevenrm          \scriptfont1=\seveni         \scriptfont2=\sevensy         \scriptfont3=\tenex
\scriptscriptfont0=\fiverm     \scriptscriptfont1=\fivei    \scriptscriptfont2=\fivesy    \scriptscriptfont3=\tenex

\font\mathlista=cmmi10 at 15.5pt

\font\ffoot="TeXGyreSchola-Regular:slant=0.2" at 10.5pt
\font\fnumpag="TeXGyreSchola-Regular/B" at 13.6pt
\font\fencp="TeXGyreSchola-Regular:mapping=tex-text" at 20.5pt
\font\fencs="TeXGyreSchola-Regular:mapping=tex-text" at 17pt
\font\fenct="TeXGyreSchola-Regular:mapping=tex-text" at 15pt
\font\fcode="DejaVuSansMono" at 12pt
\font\fc="DejaVuSansMono":embolden=0.5 at 18pt
\font\fcfoot="DejaVuSansMono" at 10.5pt
\font\fcodenoterm="LiberationMono/I" at 12pt
\font\fcodej="DejaVuSansMono" at 14pt
%% \font\fflechaizq="DejaVuSansMono" at 14pt

\font\festrella="DejaVuSansMono" at 17.66pt
\font\fpies="TeXGyreSchola-Regular" at 10pt
\font\fitems="TeXGyreSchola-Regular" at 11.5pt
\font\fsimbs="XITS-Regular" at 8pt
\font\fseñal="XITS-Regular" at 10pt
\font\fsimbols="XITS-Regular" at 14pt
\font\fmats="XITSMath-Regular" at 13pt
\font\fflecha="DejaVuSansMono" at 16pt
\font\machine="TeXGyreChorus-MediumItalic" at 15pt
%Fuentes Turing
\font\ffraktur="Kleist-Fraktur" at 15.5pt
\font\ffraktursub="Kleist-Fraktur" at 9.5pt
\font\fgabriele="GabrieleBadAH" at 15pt
\font\fgabrielen="GabrieleBadAH" at 12pt

%% \font\for="NimbusMonL-Regu" at 12pt

\font\fgramat="LiberationMono" at 12pt
\font\fgramatnoterm="LiberationMono/I" at 12pt
\font\fgramatterm="LiberationMono/B" at 12pt
\font\fsupnoterm="LiberationMono/I" at 8.2pt
\font\fsup="DejaVuSansMono" at 8.2pt
\font\fgramatsup="LiberationMono" at 8.2pt

\newcount\cap \cap=0    \newcount\subcap    \newcount\ssubcap
\newcount\cmarcas       \newdimen\espacio   \newcount\piecab

%% \def\señalizaciones#1{{\fseñal \raise.8ex\hbox{#1}\kern.16em}} En el cap1 la cruz para la definición de función recursiva.
\def\estrella{{\festrella\lower0.597ex\hbox{*}}}
\def\super#1{{\fsup \raise1.1ex \hbox{#1}}}
\def\subind#1{{\fsup \kern.1em\lower.6ex \hbox{#1}}}
\def\espenc{\hskip0.2em}
\def\espacioej{\pseudopar\vbox to 18pt{} \hskip34pt}%espacio antes de matemáticas en las listas.
\def\marcas{\ifnum\cmarcas>0 \kern-.29em{\fcode’}\advance\cmarcas by -1 \marcas\fi}
\def\inst#1#2{\cmarcas=#2 {\fcode#1\kern.1em\fcodej\hbox{\marcas}}}
\def\kernpeq{\kern.1em}
\def\zeta#1{{\fcode Z\subind{#1}}}
\def\nnat{{\it n} $ \in $ {\fsimbols ℕ}}
\def\igriega#1{{\fcode Y\kern-.14em\subind{#1}}}
\def\top/{{\fcode:\kern-.1em top}}
\def\flechagram{{\fflecha\lower.175ex\hbox{⇾}}}
\def\.{.\kern-.05em}
\def\:{:\kern-.05em}

%Turing
\def\mconfig#1{{\ffraktur#1}\hskip0.3in}
\def\mconfigfin#1{\hskip0.3in{\ffraktur#1}}
\def\configuration/{\hbox{{\it m}-configuration}}
\def\E/{{\machine E}\kern.2em }
\def\puntoscinta{\kern4pt\raise1.4ex\hbox{{\fgramatsup...}}\kern4pt}
\def\esccinta#1{\ifx\fin#1\let\altern=\relax
                \else \hbox to .35in{\hfil \vrule width0pt height16pt depth7.3pt #1\hfil}\vrule width\dimen1\let\altern=\esccinta\fi \altern}
\def\cinta#1{{\dimen1=.05pt \fcode
              \setbox1=\hbox{\hbox to 11pt{}\vrule width\dimen1\esccinta#1\fin\hbox to 11pt{}}
              \hbox{\puntoscinta\vbox{\hrule height\dimen1 \box1  \hrule height\dimen1}}\puntoscinta}}

%Apéndice A
\font\fgramatnotermg="LiberationMono/I" at 16pt
\font\fgramattermg="LiberationMono" at 16pt
\font\fcodeinsc="DejaVuSansMono" at 16pt
\font\fcodeinscs="DejaVuSansMono/B" at 16pt
\font\fsimbsinsc="XITS-Regular" at 4.4pt
\font\instenc="TeXGyreSchola-Regular:+smcp" at 22pt

\def\notermparsg#1{{\fcodeinsc\kern-.1em ⟨{\fgramatnotermg#1}⟩}}
\def\insc--#1#2{{\fgramattermg\noindent\hskip8pt\hbox{\notermparsg{#1}{\fflecha\hskip.4em→\hskip.4em}{\fcodeinscs\lower.12ex\hbox{#2}}\hskip.2em
               {\fcodeinsc|}\hskip.2em\notermparsg{#1}\kern-.2em{\fcodeinscs’}}}\vskip10pt\noindent}
\def\listainsc#1#2{\listadefs {\fcode#1}: primera posición\par{\notermpars{#2}}{\fgramatterm\kern-.1em’}: siguiente posición a la referida por {\notermpars{#2}}\finlista}
\def\equis{(x_1, ... ,x_n)}
\def\funespec#1{\leavevmode\hbox{#1}\advance\count1 by 1\par}
\def\lfunciones{\inilista{5pt}{22pt}{}\count1=1
                \everypar={\hbox to 40pt{(\romannumeral\count1)\hfil}}}
\def\cachosrec{\begingroup\obeylines\obeyspaces\leftskip10pt\fgabrielen\vskip10pt}
\def\fincachos{\endgroup\vskip10pt\noindent}
%-------------------------------

\def\C/{{\fcode C}}
\def\c--{{\fcode \hbox{C-\kern-.12em-\kern.1em}}}
\def\ccabez{\ifnum\piecab=0\def\fcode{\fc}\else\def\fcode{\fcfoot}\fi}%Para escribir C en el título del capítulo con letras grandes y en el pie con pequeñas.

\def\macroins#1#2{\hbox{{\fcode{#1}{\fflecha\hskip.4em\flechagram\hskip.4em}{#2}}}}%→
\def\alternativas#1{\ifx#1\fin\setbox1=\lastbox \kern-.3em \hskip1.7\espacio \endgroup\let\altern=\relax
                    \else\kern.3em #1\kern.3em{\fcode\hbox{|}}\let\altern=\alternativas\fi \altern}

\def\ponerins#1{\ifx\fin#1\let\altern=\relax
                \else \hbox to 1in{\hskip8pt \vrule width0pt height15pt depth5pt #1 \hfil}\hrule height\dimen1 \let\altern=\ponerins\fi \altern}
\def\programa#1{{\dimen1=.05pt \fcode
                 \setbox1=\vbox{\hrule height\dimen1\ponerins #1\fin}
                 \hbox{\vrule width\dimen1 \box1 \vrule width\dimen1}}}

\def\gramatprod#1{\begingroup \espacio= 4pt\hskip\espacio {\fgramatnoterm#1}\hskip.4em plus 2pt→\hskip.3em plus 2pt\fgramatterm\alternativas}
\def\notermpars#1{{\fcode\kern-.1em ⟨}{\fgramatnoterm#1}{\fcode⟩}}

%generales
\def\tragar#1{}
\def\encabezadop#1{\advance\cap by 1\vfil\eject\noindent{\fencp\hskip1.8pt §\the\cap.\espenc #1}\vskip8pt \noindent \subcap=0 \def\pie{#1}}
\def\encabezados#1{\global\advance\subcap by 1 \global\ssubcap=1 \vskip-\lastskip\penalty-100\vskip17pt plus5ptminus4pt\noindent{\fencs\hskip5.2pt
                   \the\cap.\the\subcap.\espenc #1}\vskip6pt plus.5pt\penalty100\noindent}
\def\encabezadot#1{\vskip-\lastskip\penalty-100\vskip14pt\noindent{\fenct\hskip6.5pt \the\cap.\the\subcap.\the\ssubcap.\espenc #1}\vskip7pt \noindent \advance\ssubcap by 1}
\def\pseudopar{\hfill\break\hbox{}\hskip\dimen2}

%Listas
\def\inilista#1#2#3{\par\begingroup\fitems\dimen1=#1\leftskip=#2\rightskip=\leftskip% \dimen2=\parindent
                  \parindent=0pt \everypar={\llap{{\fsimbs\raise.6ex\hbox{#3}}\kern.3em}}\vskip.6\dimen1\parskip1.6\dimen1 plus 2pt minus 2pt}
\def\finlista{\par\vskip-\lastskip\vskip2.8\dimen1\endgroup\noindent}
\def\listanormal{\inilista{5pt}{14pt}{•\kern.05em}}
\def\listademos{\inilista{5pt}{10pt}{♦}}
\def\encaje{\inilista{5pt}{22pt}{}}
\def\finencaje{\par\vskip-\lastskip\vskip2.05\dimen1\endgroup\noindent}
\def\listraducciones{\inilista{0pt}{21pt}{\lower.25ex\hbox{⬝}\kern4pt}\parskip22pt\vskip-5pt}
\def\finlistatrad{\finlista\vskip16pt\noindent}
\def\listadefs{\inilista{5pt}{14pt}{{\fsimbsinsc\raise.18ex\hbox{■}}\kern.05em}}
\def\centrarline#1{\dimen1=\hsize\advance\dimen1 by -2\leftskip\hbox to \dimen1{\hss#1\hss}}

%Apéndices
\newcount\pagspdf
\newcount\pagsc
\newtoks\nombreh
\def\empezarApends{\count1=64
\font\fc="DejaVuSansMono/B" at 33pt
\font\fnumappendix="Waree/B" at 90pt
\font\ftextoappendix="TeXGyreSchola-Regular/B" at 32pt
}
\def\appendix#1{\toks1=\footline \vfil\eject\hbox{}\vskip2.95in\footline{}\advance\count1 by 1 \piecab=0
                \hbox{\hskip5pt{\fencp \raise40pt\hbox{Apéndice} \fnumappendix\char\count1}}
                \vskip25pt{\ftextoappendix\noindent\vrule width 0pt depth 22pt #1} \vfil\eject
                \def\pie{Apéndice \char\count1 \kern.15em-\kern.2em #1}\footline=\toks1 \piecab=1}

\def\ponerpdfpag{\ifnum\pagsc<\pagspdf \advance\pagsc by 1 \let\bucle=\ponerpdfpag
                       \hbox{\XeTeXpdffile\nombre/ page \pagsc \hfil} \vfil\eject
                   \else \let\bucle=\relax\fi \bucle}
\def\ponerpdf#1+{\pagspdf=\XeTeXpdfpagecount#1.pdf \pagsc=0 \def\nombre/{#1.pdf}
                 \ponerpdfpag}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\rm
\hsize=6.1in \vsize=24cm
\hoffset=0.11in
\baselineskip=17.5pt plus .4pt minus .4pt \parindent=14pt
\footline={\ffoot\vbox to 42pt{}\hfill \pie \hskip11pt {\fnumpag\folio}\kern-8pt}
